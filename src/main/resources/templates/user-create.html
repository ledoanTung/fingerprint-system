<!--<!DOCTYPE html>-->
<!--<html lang="vi">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Thêm mới User</title>-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            background: #f5f6fa;-->
<!--            margin: 0;-->
<!--            padding: 0;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 450px;-->
<!--            margin: 50px auto;-->
<!--            padding: 25px;-->
<!--            background: #fff;-->
<!--            border-radius: 10px;-->
<!--            box-shadow: 0 4px 10px rgba(0,0,0,0.1);-->
<!--        }-->
<!--        h2 {-->
<!--            margin-bottom: 20px;-->
<!--            font-size: 22px;-->
<!--            text-align: center;-->
<!--            color: #2c3e50;-->
<!--        }-->
<!--        label {-->
<!--            font-weight: bold;-->
<!--            display: block;-->
<!--            margin-bottom: 5px;-->
<!--            margin-top: 15px;-->
<!--        }-->
<!--        input, select {-->
<!--            width: 100%;-->
<!--            padding: 10px;-->
<!--            border: 1px solid #ccc;-->
<!--            border-radius: 6px;-->
<!--            font-size: 14px;-->
<!--        }-->
<!--        .fingerprint-group {-->
<!--            display: flex;-->
<!--            gap: 10px;-->
<!--            align-items: center;-->
<!--        }-->
<!--        .fingerprint-group input {-->
<!--            flex: 1;-->
<!--        }-->
<!--        .btn {-->
<!--            padding: 10px 16px;-->
<!--            border: none;-->
<!--            border-radius: 6px;-->
<!--            cursor: pointer;-->
<!--            font-size: 14px;-->
<!--            transition: background 0.3s;-->
<!--        }-->
<!--        .btn-primary {-->
<!--            background: #3498db;-->
<!--            color: white;-->
<!--        }-->
<!--        .btn-primary:hover {-->
<!--            background: #2980b9;-->
<!--        }-->
<!--        .btn-secondary {-->
<!--            background: #95a5a6;-->
<!--            color: white;-->
<!--        }-->
<!--        .btn-secondary:hover {-->
<!--            background: #7f8c8d;-->
<!--        }-->
<!--        .actions {-->
<!--            margin-top: 20px;-->
<!--            display: flex;-->
<!--            justify-content: space-between;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--<div class="container">-->
<!--    <h2>Thêm mới User</h2>-->
<!--    <form id="userForm">-->
<!--        <label for="username">Username:</label>-->
<!--        <input type="text" id="username" name="username" required>-->

<!--        <label for="password">Password:</label>-->
<!--        <input type="password" id="password" name="password" required>-->

<!--        <label for="role">Role:</label>-->
<!--        <select id="role" name="role">-->
<!--            <option value="USER">USER</option>-->
<!--            <option value="ADMIN">ADMIN</option>-->
<!--        </select>-->

<!--        <label for="fingerprintId">Fingerprint ID:</label>-->
<!--        <div class="fingerprint-group">-->
<!--            <input type="text" id="fingerprintId" name="fingerprintId" readonly>-->
<!--            <button type="button" class="btn btn-secondary" onclick="getFingerprint()">Lấy vân tay</button>-->
<!--        </div>-->

<!--        <div class="actions">-->
<!--            <button type="button" class="btn btn-secondary" onclick="goBack()">Back</button>-->
<!--            <button type="submit" class="btn btn-primary">Save</button>-->
<!--        </div>-->
<!--    </form>-->
<!--</div>-->
<!--<script>-->
<!--    // Gọi API để lấy vân tay từ ESP32 qua BE-->
<!--    async function getFingerprint() {-->
<!--        try {-->
<!--            const res = await fetch("/fingerprint/enroll");-->
<!--            if (!res.ok) throw new Error("Không lấy được ID từ BE");-->
<!--            const id = await res.text();-->
<!--            document.getElementById("fingerprintId").value = id;-->
<!--        } catch (err) {-->
<!--            alert("Lỗi: " + err.message);-->
<!--        }-->
<!--    }-->

<!--    function goBack() {-->
<!--        window.location.href = "/?tab=users";-->
<!--    }-->

<!--    // Submit form tạo user-->
<!--    document.getElementById("userForm").addEventListener("submit", async function(e) {-->
<!--        e.preventDefault();-->

<!--        const user = {-->
<!--            username: document.getElementById("username").value,-->
<!--            password: document.getElementById("password").value,-->
<!--            role: document.getElementById("role").value,-->
<!--            fingerprintId: document.getElementById("fingerprintId").value-->
<!--        };-->

<!--        try {-->
<!--            const res = await fetch("/users/create", {-->
<!--                method: "POST",-->
<!--                headers: {-->
<!--                    "Content-Type": "application/json"-->
<!--                },-->
<!--                body: JSON.stringify(user)-->
<!--            });-->

<!--            if (!res.ok) throw new Error("Lưu user thất bại");-->

<!--            const saved = await res.json();-->
<!--            document.getElementById("id").value = saved.id; // điền ID sau khi lưu-->
<!--            alert("Thêm User thành công!");-->
<!--            window.location.href = "/?tab=users";-->
<!--        } catch (err) {-->
<!--            alert("Lỗi: " + err.message);-->
<!--        }-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Thêm mới User</title>
</head>
<body>
<main class="content" layout:fragment="content">
    <div class="header">
        <h2>Thêm mới User</h2>
    </div>

    <form id="userForm" class="form-grid">
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" name="username" required>
        </div>

        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required>
        </div>

        <div class="form-group">
            <label for="role">Role</label>
            <select id="role" name="role">
                <option value="USER">USER</option>
                <option value="ADMIN">ADMIN</option>
            </select>
        </div>

        <div class="form-group">
            <label for="fingerprintId">Fingerprint ID</label>
            <div class="fingerprint-group">
                <input type="text" id="fingerprintId" name="fingerprintId" readonly>
                <button type="button" class="btn-sm" onclick="getFingerprint()">Lấy vân tay</button>
            </div>
        </div>

        <div class="form-actions">
            <button type="button" class="btn-sm danger" onclick="goBack()">Back</button>
            <button type="submit" class="btn">Save</button>
        </div>
    </form>
</main>

</body>
</html>


